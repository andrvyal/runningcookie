{"version":3,"sources":["webpack:///runningcookie.js","webpack:///webpack/bootstrap 55d3145a793ce797d64f","webpack:///./runningcookie.js","webpack:///./runningcookie/RunningCookie.js","webpack:///./runningcookie/Cookies.js","webpack:///./runningcookie/Session.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_RunningCookie","_RunningCookie2","obj","default","window","RunningCookie","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_Cookies","_Cookies2","_Session","_Session2","DESKTOP","test","navigator","userAgent","SESSION_ID","generateId","running","create","this","arguments","undefined","Boolean","_this","cookie","Error","setCookie","set","expires","Date","now","setInterval","DESKTOP_LIFETIME","addEventListener","stop","clearInterval","FALSE","EXPIRED","Cookies","matches","document","match","RegExp","encodeURIComponent","decodeURIComponent","_ref","domain","_ref$path","path","toUTCString","Session","rand","String","Math","random","time","getTime","slice"],"mappings":"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","file":"runningcookie.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _RunningCookie = __webpack_require__(1);\n\nvar _RunningCookie2 = _interopRequireDefault(_RunningCookie);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.RunningCookie = _RunningCookie2.default;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Cookies = __webpack_require__(2);\n\nvar _Cookies2 = _interopRequireDefault(_Cookies);\n\nvar _Session = __webpack_require__(3);\n\nvar _Session2 = _interopRequireDefault(_Session);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_NAME = 'running-cookie';\nvar DESKTOP = !/Android|iPhone|iPad|iPod|IEMobile|webOS|BlackBerry|Opera Mini/i.test(navigator.userAgent);\nvar DESKTOP_LIFETIME = 5000;\nvar DESKTOP_INTERVAL = DESKTOP_LIFETIME / 10;\nvar ERROR_ANOTHER_SESSION = 'Cookie has been created in another window';\nvar SESSION_ID = _Session2.default.generateId();\n\nvar running = Object.create(null);\n\nvar RunningCookie = function () {\n  function RunningCookie() {\n    _classCallCheck(this, RunningCookie);\n  }\n\n  _createClass(RunningCookie, [{\n    key: 'is',\n    value: function is() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_NAME;\n\n      return Boolean(_Cookies2.default.get(name));\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this = this;\n\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_NAME;\n\n      var cookie = _Cookies2.default.get(name);\n      if (cookie) {\n        if (cookie === SESSION_ID) {\n          return;\n        } else {\n          throw new Error(ERROR_ANOTHER_SESSION);\n        }\n      }\n\n      var setCookie = function setCookie() {\n        _Cookies2.default.set(name, SESSION_ID, DESKTOP ? {\n          expires: new Date(Date.now() + DESKTOP_LIFETIME)\n        } : {});\n      };\n\n      setCookie();\n      if (DESKTOP) {\n        running[name] = setInterval(setCookie, DESKTOP_INTERVAL);\n      }\n\n      window.addEventListener('unload', function () {\n        _this.stop(name);\n      });\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_NAME;\n\n      var cookie = _Cookies2.default.get(name);\n      if (cookie !== SESSION_ID) {\n        throw new Error(ERROR_ANOTHER_SESSION);\n      }\n\n      if (running[name]) {\n        clearInterval(running[name]);\n        delete running[name];\n      }\n\n      _Cookies2.default.set(name, _Cookies2.default.FALSE, {\n        expires: _Cookies2.default.EXPIRED\n      });\n    }\n  }, {\n    key: 'DEFAULT_NAME',\n    get: function get() {\n      return DEFAULT_NAME;\n    }\n  }]);\n\n  return RunningCookie;\n}();\n\nexports.default = new RunningCookie();\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_PATH = '/';\n\nvar Cookies = function () {\n  function Cookies() {\n    _classCallCheck(this, Cookies);\n  }\n\n  _createClass(Cookies, [{\n    key: 'get',\n    value: function get(name) {\n      var matches = document.cookie.match(new RegExp('(?:^|; )' + encodeURIComponent(name) + '=([^;]*)'));\n\n      return matches ? decodeURIComponent(matches[1]) : undefined;\n    }\n  }, {\n    key: 'set',\n    value: function set(name, value) {\n      var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          domain = _ref.domain,\n          expires = _ref.expires,\n          _ref$path = _ref.path,\n          path = _ref$path === undefined ? DEFAULT_PATH : _ref$path;\n\n      var cookie = name + '=' + encodeURIComponent(value);\n\n      cookie += ';path=' + path;\n      if (domain) {\n        cookie += ';domain=' + domain;\n      }\n      if (expires) {\n        cookie += ';expires=' + expires.toUTCString();\n      }\n\n      document.cookie = cookie;\n    }\n  }, {\n    key: 'EXPIRED',\n    get: function get() {\n      return new Date(Date.now() - 1);\n    }\n  }, {\n    key: 'FALSE',\n    get: function get() {\n      return '';\n    }\n  }, {\n    key: 'TRUE',\n    get: function get() {\n      return '1';\n    }\n  }]);\n\n  return Cookies;\n}();\n\nexports.default = new Cookies();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Session = function () {\n  function Session() {\n    _classCallCheck(this, Session);\n  }\n\n  _createClass(Session, null, [{\n    key: 'generateId',\n    value: function generateId() {\n      var ADDON = '00000000000';\n\n      var rand = String(Math.random()) + ADDON;\n      var time = ADDON + String(new Date().getTime());\n\n      return rand.slice(2, 12) + time.slice(time.length - 10, time.length);\n    }\n  }]);\n\n  return Session;\n}();\n\nexports.default = Session;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// runningcookie.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 55d3145a793ce797d64f","import RunningCookie from './runningcookie/RunningCookie';\r\n\r\nwindow.RunningCookie = RunningCookie;\r\n\n\n\n// WEBPACK FOOTER //\n// ./runningcookie.js","import Cookies from './Cookies';\r\nimport Session from './Session';\r\n\r\nconst DEFAULT_NAME = 'running-cookie';\r\nconst DESKTOP = !/Android|iPhone|iPad|iPod|IEMobile|webOS|BlackBerry|Opera Mini/i.test(navigator.userAgent);\r\nconst DESKTOP_LIFETIME = 5000;\r\nconst DESKTOP_INTERVAL = DESKTOP_LIFETIME / 10;\r\nconst ERROR_ANOTHER_SESSION = 'Cookie has been created in another window';\r\nconst SESSION_ID = Session.generateId();\r\n\r\nlet running = Object.create(null);\r\n\r\nclass RunningCookie {\r\n  get DEFAULT_NAME() {\r\n    return DEFAULT_NAME;\r\n  }\r\n\r\n  is(name = DEFAULT_NAME) {\r\n    return Boolean(Cookies.get(name));\r\n  }\r\n\r\n  start(name = DEFAULT_NAME) {\r\n    let cookie = Cookies.get(name);\r\n    if (cookie) {\r\n      if (cookie === SESSION_ID) {\r\n        return;\r\n      } else {\r\n        throw new Error(ERROR_ANOTHER_SESSION);\r\n      }\r\n    }\r\n\r\n    let setCookie = () => {\r\n      Cookies.set(name, SESSION_ID, DESKTOP ? {\r\n        expires: new Date(Date.now() + DESKTOP_LIFETIME)\r\n      } : {});\r\n    };\r\n\r\n    setCookie();\r\n    if (DESKTOP) {\r\n      running[name] = setInterval(setCookie, DESKTOP_INTERVAL);\r\n    }\r\n\r\n    window.addEventListener('unload', () => {\r\n      this.stop(name);\r\n    });\r\n  }\r\n\r\n  stop(name = DEFAULT_NAME) {\r\n    let cookie = Cookies.get(name);\r\n    if (cookie !== SESSION_ID) {\r\n      throw new Error(ERROR_ANOTHER_SESSION);\r\n    }\r\n\r\n    if (running[name]) {\r\n      clearInterval(running[name]);\r\n      delete running[name];\r\n    }\r\n\r\n    Cookies.set(name, Cookies.FALSE, {\r\n      expires: Cookies.EXPIRED\r\n    });\r\n  }\r\n}\r\n\r\nexport default new RunningCookie();\r\n\n\n\n// WEBPACK FOOTER //\n// ./runningcookie/RunningCookie.js","const DEFAULT_PATH = '/';\r\n\r\nclass Cookies {\r\n  get EXPIRED() {\r\n    return new Date(Date.now() - 1);\r\n  }\r\n\r\n  get FALSE() {\r\n    return '';\r\n  }\r\n\r\n  get TRUE() {\r\n    return '1';\r\n  }\r\n\r\n  get(name) {\r\n    let matches = document.cookie.match(new RegExp('(?:^|; )' + encodeURIComponent(name) + '=([^;]*)'));\r\n\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n  }\r\n\r\n  set(name, value, {domain, expires, path = DEFAULT_PATH} = {}) {\r\n    let cookie = name + '=' + encodeURIComponent(value);\r\n\r\n    cookie += ';path=' + path;\r\n    if (domain) {\r\n      cookie += ';domain=' + domain;\r\n    }\r\n    if (expires) {\r\n      cookie += ';expires=' + expires.toUTCString();\r\n    }\r\n\r\n    document.cookie = cookie;\r\n  }\r\n}\r\n\r\nexport default new Cookies();\r\n\n\n\n// WEBPACK FOOTER //\n// ./runningcookie/Cookies.js","export default class Session {\r\n  static generateId() {\r\n    const ADDON = '00000000000';\r\n\r\n    let rand = String(Math.random()) + ADDON;\r\n    let time = ADDON + String(new Date().getTime());\r\n\r\n    return rand.slice(2, 12) + time.slice(time.length - 10, time.length);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./runningcookie/Session.js"],"sourceRoot":""}